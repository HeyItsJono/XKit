{"id":"vanilla_video","script":"//* TITLE Vanilla Videos **//\n//* VERSION 0.0.1 **//\n//* DESCRIPTION Make the video player unexciting **//\n//* DETAILS Use the browser-default video player that won't follow you, loop, or autoplay. Only works on Tumblr's player. **//\n//* DEVELOPER new-xkit **//\n//* FRAME false **//\n//* BETA true **//\n//* SLOW true **//\n\nXKit.extensions.vanilla_video = {\n\trunning: false,\n\trun: function() {\n\t\tthis.running = true;\n\t\tXKit.post_listener.add('vanilla_video', XKit.extensions.vanilla_video.check);\n\t\tXKit.extensions.vanilla_video.check();\n\t},\n\n\tcheck: function() {\n\t\tvar doneClass = 'xvanilla_video-done';\n\t\t$('.posts .post').not('.' + doneClass).each(function() {\n\t\t\tvar post = $(this);\n\t\t\tpost.addClass(doneClass);\n\t\t\tvar videoEmbeds = post.find('.dockable_video_embed');\n\t\t\tvideoEmbeds.each(function() {\n\t\t\t\tvar videoEmbed = $(this);\n\t\t\t\tif (videoEmbed.attr('data-embed-service') !== 'tumblr_video') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar sources = videoEmbed.find('video > source');\n\t\t\t\tvar newVideo = document.createElement('video');\n\t\t\t\tsources.each(function() {\n\t\t\t\t\tvar clonedSource = document.createElement('source');\n\t\t\t\t\tclonedSource.type = this.type;\n\t\t\t\t\tclonedSource.src = this.src;\n\t\t\t\t\tnewVideo.appendChild(clonedSource);\n\t\t\t\t});\n\t\t\t\tnewVideo.controls = true;\n\t\t\t\tnewVideo.style.width = '100%';\n\n\t\t\t\tvideoEmbed.replaceWith(newVideo);\n\t\t\t});\n\t\t});\n\t},\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t\tXKit.post_listener.remove('vanilla_video');\n\t}\n};\n","file":"found","server":"up","errors":false,"title":"Vanilla Videos","description":"Make the video player unexciting","developer":"new-xkit","version":"0.0.1","details":"Use the browser-default video player that won't follow you, loop, or autoplay. Only works on Tumblr's player.","frame":"false","beta":"true","slow":"true"}